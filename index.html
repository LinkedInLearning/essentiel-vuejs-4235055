<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vue JS</title>
    <!-- CSS -->
    <link rel="stylesheet" href="assets/style.css" />
</head>

<body>
    <div id="app">
        <main>
            <!-- Section Panier -->
            <div class="cart">
                <table>
                    <thead>
                        <tr>
                            <th colspan="2">Votre commande</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Total pizza</td>
                            <td>x {{ nbrProduct }}</td>
                        </tr>
                        <tr>
                            <td>Code Promo</td>
                            <td class="code-promo">
                                <input v-model="promo" placeholder="Ajouter un code promo" />
                            </td>
                        </tr>
                        <tr>
                            <td>Total à payer</td>
                            <td>
                                <transition name="bounce">
                                    <div v-if="promo === 'royale'">
                                        (-3€)
                                        <span class="sale">{{ totalPrice }} €</span>
                                        {{ totalPrice - 3}} €
                                    </div>
                                    <div v-else>{{ totalPrice }} €</div>
                                </transition>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <div class="promoValid">{{ isValidMsg }}</div>

            </div>

            <!-- Section Produit -->
            <div class="product-section">

                <product-component @add-product="addCard($event)" :bestseller="bestSellerProduct"></product-component>

            </div>
        </main>
        <!-- Section Footer -->
        <footer>
            <div id="footer">
                <button @click="current = 'About'">A propos de nous</button>
                <button @click="current = 'Contact'">Nous contacter</button>
            </div>
            <div id="footer-content">
                <keep-alive>
                    <component :is="current">
                </keep-alive>
            </div>
        </footer>

    </div>

    <!-- JS -->
    <script type="importmap">
    {
        "imports" : {
            "vue" : "https://unpkg.com/vue@3/dist/vue.esm-browser.js"
        }
    }
    </script>
    <script type="module" src="main.js"></script>
</body>

</html>